<div class="payment-container">
  <div class="payment-header">
    <a href="{{ shopSlug ? '/shop/' + shopSlug + '/checkout' : '/' }}" class="back-link">
      <i class="fas fa-arrow-left"></i> Back to Checkout
    </a>
    <h1>Complete Payment</h1>
    <div class="order-info">
      <p>Order #{{orderId}} | Amount: <strong>Rs. {{amount}}</strong></p>
    </div>
  </div>

  <div class="payment-content">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-state">
      <div class="spinner"></div>
      <p>Loading payment details...</p>
    </div>

    <!-- Payment Methods -->
    <div *ngIf="!isLoading" class="payment-methods">
      
      <!-- Card Payment -->
      <div class="payment-method-card" *ngIf="paymentMethod === 'card'">
        <h3><i class="fas fa-credit-card"></i> Credit/Debit Card</h3>
        <form (submit)="processCardPayment()" class="card-form">
          <div class="form-group">
            <label>Card Number</label>
            <input type="text" placeholder="1234 5678 9012 3456" required maxlength="19">
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label>Expiry Date</label>
              <input type="text" placeholder="MM/YY" required>
            </div>
            <div class="form-group">
              <label>CVV</label>
              <input type="text" placeholder="123" required maxlength="3">
            </div>
          </div>
          
          <div class="form-group">
            <label>Cardholder Name</label>
            <input type="text" placeholder="John Doe" required>
          </div>
          
          <button type="submit" class="pay-now-btn">
            <i class="fas fa-lock"></i> Pay Rs. {{amount }}
          </button>
        </form>
      </div>

      <!-- JazzCash -->
      <div class="payment-method-card" *ngIf="paymentMethod === 'jazzcash'">
        <h3><i class="fas fa-mobile-alt"></i> JazzCash Wallet</h3>
        <p>You will be redirected to JazzCash to complete your payment.</p>
        <button (click)="redirectToJazzCash()" class="wallet-pay-btn">
          <img src="/assets/jazzcash-logo.png" alt="JazzCash" class="wallet-logo">
          Pay via JazzCash
        </button>
      </div>

      <!-- EasyPaisa -->
      <div class="payment-method-card" *ngIf="paymentMethod === 'easypaisa'">
        <h3><i class="fas fa-wallet"></i> EasyPaisa Wallet</h3>
        <p>You will be redirected to EasyPaisa to complete your payment.</p>
        <button (click)="redirectToEasyPaisa()" class="wallet-pay-btn">
          <img src="/assets/easypaisa-logo.png" alt="EasyPaisa" class="wallet-logo">
          Pay via EasyPaisa
        </button>
      </div>

    </div>

    <!-- Cancel Button -->
    <button *ngIf="!isLoading" (click)="cancelPayment()" class="cancel-btn">
      Cancel Payment
    </button>
  </div>
</div>