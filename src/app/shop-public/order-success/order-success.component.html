<div class="order-success-container">
    
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-state">
        <div class="loading-animation">
            <div class="loading-spinner"></div>
            <div class="loading-checkmark">âœ“</div>
        </div>
        <p class="loading-text">Loading your order details...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="!isLoading && isError" class="error-state">
        <div class="error-icon"></div>
        <div class="error-content">
            <h3>Unable to Load Order</h3>
            <p>{{ errorMessage }}</p>
            <button (click)="fetchOrderDetails()" class="retry-btn">Try Again</button>
        </div>
    </div>

    <!-- Success Content - Horizontal Layout -->
    <div *ngIf="!isLoading && !isError" class="success-horizontal-layout">
        
        <!-- Left Column -->
        <div class="left-column">
            <!-- Success Header -->
            <div class="success-header">
                <div class="success-icon">
                    <svg viewBox="0 0 24 24">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                    </svg>
                </div>
                <h1>Order Confirmed!</h1>
                <p class="order-id">Order #{{ orderId }}</p>
                <p class="thank-you">Thank you for your purchase, <strong>{{ orderDetails.customer.fullName }}</strong></p>
            </div>

            <!-- Order Summary -->
            <div class="order-summary-card">
                <h2 class="card-title">
                    <span class="title-icon"></span>
                    Order Summary
                </h2>
                
                <div class="summary-grid">
                    <div class="summary-row">
                        <span class="summary-label">Subtotal</span>
                        <span class="summary-value">â‚¹{{ orderDetails.subtotal | number:'1.2-2' }}</span>
                    </div>
                    
                    <div class="summary-row">
                        <span class="summary-label">Shipping</span>
                        <span class="summary-value free" *ngIf="orderDetails.shippingCost === 0">FREE</span>
                        <span class="summary-value" *ngIf="orderDetails.shippingCost > 0">
                            â‚¹{{ orderDetails.shippingCost | number:'1.2-2' }}
                        </span>
                    </div>
                    
                    <div class="summary-row">
                        <span class="summary-label">Tax (13%)</span>
                        <span class="summary-value">â‚¹{{ orderDetails.tax | number:'1.2-2' }}</span>
                    </div>
                    
                    <div class="summary-divider"></div>
                    
                    <div class="summary-row total">
                        <span class="summary-label">Total Amount</span>
                        <span class="summary-value total-amount">â‚¹{{ orderDetails.totalAmount | number:'1.2-2' }}</span>
                    </div>
                </div>
            </div>

            <!-- Status Cards -->
            <div class="status-section">
                <div class="status-card">
                    <div class="status-header">
                        <span class="status-icon">ðŸ“¦</span>
                        <h3>Order Status</h3>
                    </div>
                    <div class="status-badge" [ngClass]="getOrderStatusConfig().color">
                        {{ getOrderStatusConfig().label }}
                    </div>
                </div>
                
                <div class="status-card">
                    <div class="status-header">
                        <span class="status-icon">ðŸ’³</span>
                        <h3>Payment Status</h3>
                    </div>
                    <div class="status-badge" [ngClass]="getPaymentStatusConfig().color">
                        {{ getPaymentStatusConfig().label }}
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-section">
                <button (click)="continueShopping()" class="primary-action-btn">
                    <span class="btn-icon">ðŸ›’</span>
                    Continue Shopping
                </button>
                
                <div class="secondary-actions">
                    <button (click)="printOrder()" class="secondary-btn">
                        <span class="btn-icon"></span>
                        Print Receipt
                    </button>
                    <button (click)="shareOrder()" class="secondary-btn">
                        <span class="btn-icon"></span>
                        Share Order
                    </button>
                </div>
            </div>
        </div>

        <!-- Right Column -->
        <div class="right-column">
            <!-- Order Items -->
            <div class="order-items-card">
                <h2 class="card-title">
                    <span class="title-icon"></span>
                    Order Items ({{ orderDetails.items.length }})
                </h2>
                
                <div class="items-list">
                    <div *ngFor="let item of orderDetails.items" class="order-item">
                        <div class="item-image">{{ item.name.charAt(0) }}</div>
                        <div class="item-info">
                            <h4 class="item-name">{{ item.name }}</h4>
                            <div class="item-details">
                                <span class="item-quantity">Qty: {{ item.quantity }}</span>
                                <span class="item-price">â‚¹{{ item.price | number:'1.2-2' }} each</span>
                            </div>
                        </div>
                        <div class="item-total">
                            â‚¹{{ calculateItemTotal(item) | number:'1.2-2' }}
                        </div>
                    </div>
                </div>
            </div>

            <!-- Delivery Information -->
            <div class="delivery-card">
                <h2 class="card-title">
                    <span class="title-icon"></span>
                    Delivery Information
                </h2>
                
                <div class="delivery-content">
                    <div class="delivery-row">
                        <span class="delivery-label">Estimated Delivery:</span>
                        <span class="delivery-value">{{ getEstimatedDeliveryDate() }}</span>
                    </div>
                    
                    <div class="delivery-row">
                        <span class="delivery-label">Customer:</span>
                        <span class="delivery-value">{{ orderDetails.customer.fullName }}</span>
                    </div>
                    
                    <div class="delivery-row">
                        <span class="delivery-label">Phone:</span>
                        <span class="delivery-value">{{ orderDetails.customer.phone }}</span>
                    </div>
                    
                    <div class="delivery-row">
                        <span class="delivery-label">Email:</span>
                        <span class="delivery-value">{{ orderDetails.customer.email }}</span>
                    </div>
                    
                    <div class="delivery-row address">
                        <span class="delivery-label">Address:</span>
                        <span class="delivery-value">
                            {{ orderDetails.shipping.address }}, {{ orderDetails.shipping.city }}, 
                            {{ orderDetails.shipping.province }} {{ orderDetails.shipping.postalCode }}
                        </span>
                    </div>
                </div>
            </div>

            <!-- Order Timeline -->
            <div class="timeline-card">
                <h2 class="card-title">
                    <span class="title-icon"></span>
                    Order Timeline
                </h2>
                
                <div class="timeline">
                    <div class="timeline-step active">
                        <div class="step-dot"></div>
                        <div class="step-content">
                            <h3>Order Placed</h3>
                            <p>{{ formatDate(orderDetails.createdAt) }}</p>
                        </div>
                    </div>
                    
                    <div class="timeline-step">
                        <div class="step-dot"></div>
                        <div class="step-content">
                            <h3>Processing</h3>
                            <p>Will start soon</p>
                        </div>
                    </div>
                    
                    <div class="timeline-step">
                        <div class="step-dot"></div>
                        <div class="step-content">
                            <h3>Shipped</h3>
                            <p>Estimated: {{ getEstimatedDeliveryDate() }}</p>
                        </div>
                    </div>
                    
                    <div class="timeline-step">
                        <div class="step-dot"></div>
                        <div class="step-content">
                            <h3>Delivered</h3>
                            <p>Will be updated</p>
                        </div>
                    </div>
                </div>
            </div>

      
        </div>
    </div>
</div>